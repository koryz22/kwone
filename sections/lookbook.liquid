{% comment %}
  Section: lookbook.liquid
  Purpose: Main editorial lookbook section
{% endcomment %}

<section class="lookbook-section" id="lookbook-section" data-section-id="{{ section.id }}">
  <div class="lookbook-wrapper">
    
    {% comment %} Main header removed - using navbar only {% endcomment %}

    {%- liquid
      assign collection = collections[section.settings.collection] | default: collections.all
      assign products_per_page = section.settings.products_per_page
    -%}

    {% if collection.products_count > 0 %}
      <div class="lookbook-content" id="lookbook-content">
        {% if section.settings.show_catalog_title %}
          <div class="catalog-title">
            <h2 class="catalog-title-text">{{ section.settings.catalog_title | default: 'Catalog 2026' }}</h2>
          </div>
        {% endif %}
        {% if section.settings.show_release_title %}
          <div class="release-title-bubble">
            <span class="release-title-text">{{ section.settings.release_title | default: 'Release 1.0' }}</span>
          </div>
        {% endif %}
        {% if section.settings.layout_style == 'editorial' %}
          {% comment %} Editorial/notebook style layout {% endcomment %}
          <div class="lookbook-editorial" data-collection-handle="{{ collection.handle }}">
            {% paginate collection.products by products_per_page %}
              {% for product in collection.products %}
                {% render 'product-card-editorial', product: product, index: forloop.index %}
              {% endfor %}
            {% endpaginate %}
          </div>
        {% else %}
          {% comment %} Minimal grid layout {% endcomment %}
          <div class="lookbook-grid" data-collection-handle="{{ collection.handle }}">
            {% paginate collection.products by products_per_page %}
              {% for product in collection.products %}
                {% render 'product-card-minimal', product: product %}
              {% endfor %}
            {% endpaginate %}
          </div>
        {% endif %}
      </div>
    {% else %}
      <div class="lookbook-empty">
        <p>{{ 'sections.lookbook.no_products' | t }}</p>
      </div>
    {% endif %}

  </div>
</section>

{% schema %}
{
  "name": "Lookbook",
  "tag": "section",
  "class": "section-lookbook",
  "settings": [
    {
      "type": "header",
      "content": "Header Settings"
    },
    {
      "type": "checkbox",
      "id": "show_header",
      "label": "Show header",
      "default": true
    },
    {
      "type": "text",
      "id": "brand_letter",
      "label": "Brand letter",
      "default": "K",
      "info": "Single letter displayed in corner"
    },
    {
      "type": "text",
      "id": "brand_name",
      "label": "Brand name",
      "default": "KWONE"
    },
    {
      "type": "textarea",
      "id": "tagline",
      "label": "Tagline",
      "default": "A visual archive of Kwone essentials or wallets and accessories built for disciplined men."
    },
    {
      "type": "checkbox",
      "id": "show_collection_label",
      "label": "Show collection label",
      "default": false
    },
    {
      "type": "text",
      "id": "collection_label",
      "label": "Collection label",
      "default": "LOOKBOOK"
    },
    {
      "type": "header",
      "content": "Content Settings"
    },
    {
      "type": "checkbox",
      "id": "show_catalog_title",
      "label": "Show catalog title",
      "default": true
    },
    {
      "type": "text",
      "id": "catalog_title",
      "label": "Catalog title",
      "default": "Catalog 2026"
    },
    {
      "type": "checkbox",
      "id": "show_release_title",
      "label": "Show release title",
      "default": true
    },
    {
      "type": "text",
      "id": "release_title",
      "label": "Release title",
      "default": "Vol. 01"
    },
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection",
      "info": "Select collection to display. Leave empty to show all products."
    },
    {
      "type": "select",
      "id": "layout_style",
      "label": "Layout style",
      "options": [
        {
          "value": "editorial",
          "label": "Editorial / Notebook"
        },
        {
          "value": "minimal",
          "label": "Minimal Grid"
        }
      ],
      "default": "editorial"
    },
    {
      "type": "range",
      "id": "products_per_page",
      "label": "Products per page",
      "min": 12,
      "max": 48,
      "step": 6,
      "default": 24
    }
  ],
  "presets": [
    {
      "name": "Lookbook"
    }
  ]
}
{% endschema %}
